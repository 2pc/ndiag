# {{ .Layer.Name }}

![view]({{ diagpath "layer" .Layer.Name .Format }})

{{ .Layer.Desc }}

<p align="right">
  [ <a href="{{ .DescPath }}/{{ mdpath "_layer" ( .Layer | id) }}">:pencil2: {{ "Edit description" | lookup }}</a> ]
</p>

{{ range $i, $c := .Clusters }}
## {{ $c | fullname }}

{{ $c.Desc }}

<p align="right">
  [ <a href="{{ $.DescPath }}/{{ mdpath "_cluster" ($c | id) }}">:pencil2: {{ "Edit description" | lookup }}</a> ]
</p>

{{ if ne (len $c.Components) 0 }}
### {{ "Cluster components" | lookup }}

| {{ "Name" | lookup }} | {{ "Description" | lookup }} |
| --- | --- |
{{- range $i, $cc := $c.Components }}
| {{ $cc | fullname }} | {{ if ne $cc.Desc "" }}{{ $cc.Desc | trim | nl2br }}{{ else }}<a href="{{ $.DescPath }}/{{ mdpath "_component" ($cc | id)}}">:pencil2:</a>{{ end }} |
{{- end -}}
{{- end }}
### {{ "Nodes" | lookup }}

| {{ "Name" | lookup }}{{ if not $.HideRealNodes }} ({{ "node count" | lookup }}){{ end }} | {{ "Description" | lookup }} |
| --- | --- |
{{- range $i, $n := $c.Nodes }}
| [{{ $n | fullname }}]({{ mdpath "node" ($n | id) }}){{ if not $.HideRealNodes }} ({{ len $n.RealNodes }}){{ end }} | {{ if ne $n.Desc "" }}{{ $n.Desc | summary }}{{ else }}<a href="{{ $.DescPath }}/{{ mdpath "_node" ($n | id)}}">:pencil2:</a>{{ end }} |
{{- end }}

{{- end}}

---

> Generated by [ndiag](https://github.com/k1LoW/ndiag)
