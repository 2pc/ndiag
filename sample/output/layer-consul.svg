<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: ndiag Pages: 1 -->
<svg width="210pt" height="311pt"
 viewBox="0.00 0.00 210.00 311.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 307.2)">
<title>ndiag</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-307.2 206,-307.2 206,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_consul:dc1</title>
<path fill="#4b75b9" fill-opacity="0.200000" stroke="#4b75b9" stroke-opacity="0.200000" d="M20,-8C20,-8 182,-8 182,-8 188,-8 194,-14 194,-20 194,-20 194,-283.2 194,-283.2 194,-289.2 188,-295.2 182,-295.2 182,-295.2 20,-295.2 20,-295.2 14,-295.2 8,-289.2 8,-283.2 8,-283.2 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="101" y="-278.6" font-family="Arial" font-size="14.00" fill="#000000">consul:dc1</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_db&#45;*</title>
<polygon fill="#ffffff" stroke="#333333" stroke-width="2" points="78,-16 78,-92.8 186,-92.8 186,-16 78,-16"/>
<text text-anchor="middle" x="132" y="-76.2" font-family="Arial" font-size="14.00" fill="#000000">db&#45;* (2)</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_app&#45;*</title>
<polygon fill="#ffffff" stroke="#333333" stroke-width="2" points="106,-100.8 106,-177.6 176,-177.6 176,-100.8 106,-100.8"/>
<text text-anchor="middle" x="141" y="-161" font-family="Arial" font-size="14.00" fill="#000000">app&#45;* (3)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_lb&#45;*</title>
<polygon fill="#ffffff" stroke="#333333" stroke-width="2" points="16,-185.6 16,-262.4 186,-262.4 186,-185.6 16,-185.6"/>
<text text-anchor="middle" x="101" y="-245.8" font-family="Arial" font-size="14.00" fill="#000000">lb&#45;* (2)</text>
</g>
<!-- lb&#45;*:nginx -->
<g id="node1" class="node">
<title>lb&#45;*:nginx</title>
<path fill="#4b75b9" stroke="#ffffff" stroke-width="2" d="M166,-229.6C166,-229.6 136,-229.6 136,-229.6 130,-229.6 124,-223.6 124,-217.6 124,-217.6 124,-205.6 124,-205.6 124,-199.6 130,-193.6 136,-193.6 136,-193.6 166,-193.6 166,-193.6 172,-193.6 178,-199.6 178,-205.6 178,-205.6 178,-217.6 178,-217.6 178,-223.6 172,-229.6 166,-229.6"/>
<text text-anchor="middle" x="151" y="-207.4" font-family="Arial" font-size="14.00" fill="#ffffff">nginx</text>
</g>
<!-- app&#45;*:rails -->
<g id="node3" class="node">
<title>app&#45;*:rails</title>
<path fill="#4b75b9" stroke="#ffffff" stroke-width="2" d="M156,-144.8C156,-144.8 126,-144.8 126,-144.8 120,-144.8 114,-138.8 114,-132.8 114,-132.8 114,-120.8 114,-120.8 114,-114.8 120,-108.8 126,-108.8 126,-108.8 156,-108.8 156,-108.8 162,-108.8 168,-114.8 168,-120.8 168,-120.8 168,-132.8 168,-132.8 168,-138.8 162,-144.8 156,-144.8"/>
<text text-anchor="middle" x="141" y="-122.6" font-family="Arial" font-size="14.00" fill="#ffffff">rails</text>
</g>
<!-- lb&#45;*:nginx&#45;&gt;app&#45;*:rails -->
<g id="edge1" class="edge">
<title>lb&#45;*:nginx&#45;&gt;app&#45;*:rails</title>
<path fill="none" stroke="#333333" stroke-width="2" stroke-opacity="0.600000" d="M146,-193.1997C146,-193.1997 146,-154.8731 146,-154.8731"/>
<polygon fill="#333333" fill-opacity="0.600000" stroke="#333333" stroke-width="2" stroke-opacity="0.600000" points="149.5001,-154.8731 146,-144.8731 142.5001,-154.8731 149.5001,-154.8731"/>
</g>
<!-- lb&#45;*:keepalived -->
<g id="node2" class="node">
<title>lb&#45;*:keepalived</title>
<path fill="#4b75b9" stroke="#ffffff" stroke-width="2" d="M94.4089,-229.6C94.4089,-229.6 35.5911,-229.6 35.5911,-229.6 29.5911,-229.6 23.5911,-223.6 23.5911,-217.6 23.5911,-217.6 23.5911,-205.6 23.5911,-205.6 23.5911,-199.6 29.5911,-193.6 35.5911,-193.6 35.5911,-193.6 94.4089,-193.6 94.4089,-193.6 100.4089,-193.6 106.4089,-199.6 106.4089,-205.6 106.4089,-205.6 106.4089,-217.6 106.4089,-217.6 106.4089,-223.6 100.4089,-229.6 94.4089,-229.6"/>
<text text-anchor="middle" x="65" y="-207.4" font-family="Arial" font-size="14.00" fill="#ffffff">keepalived</text>
</g>
<!-- db&#45;*:postgresql -->
<g id="node4" class="node">
<title>db&#45;*:postgresql</title>
<path fill="#4b75b9" stroke="#ffffff" stroke-width="2" d="M166.2457,-60C166.2457,-60 97.7543,-60 97.7543,-60 91.7543,-60 85.7543,-54 85.7543,-48 85.7543,-48 85.7543,-36 85.7543,-36 85.7543,-30 91.7543,-24 97.7543,-24 97.7543,-24 166.2457,-24 166.2457,-24 172.2457,-24 178.2457,-30 178.2457,-36 178.2457,-36 178.2457,-48 178.2457,-48 178.2457,-54 172.2457,-60 166.2457,-60"/>
<text text-anchor="middle" x="132" y="-37.8" font-family="Arial" font-size="14.00" fill="#ffffff">PostgreSQL</text>
</g>
<!-- app&#45;*:rails&#45;&gt;db&#45;*:postgresql -->
<g id="edge2" class="edge">
<title>app&#45;*:rails&#45;&gt;db&#45;*:postgresql</title>
<path fill="none" stroke="#333333" stroke-width="2" stroke-opacity="0.600000" d="M141,-108.3997C141,-108.3997 141,-70.0731 141,-70.0731"/>
<polygon fill="#333333" fill-opacity="0.600000" stroke="#333333" stroke-width="2" stroke-opacity="0.600000" points="144.5001,-70.0731 141,-60.0731 137.5001,-70.0731 144.5001,-70.0731"/>
</g>
</g>
</svg>
